---
layout: default
title: Rankometer
---

<div class="row">
  <div class="col-sm-3">
    <div class="input-group" id="player-names-group">
      <input id="player-names" type="text" placeholder="Player Name" class="form-control" />
      <span class="input-group-btn" id="player-names-search-button">
        <button class="btn btn-default" type="button">
          <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
        </button>
      </span>
    </div>
  </div>

  <div class="col-sm-8">
    <p class="my-paragraph"></p>
    <p class="my-paragraph">Pick a player and check out their Rankometer!
  </div>

  <div class="col-sm-1">
    <a>
      <image src="images/icons/infoicon.jpg" align="right" height="30px" width="30px" title="Rankometer visualizes a player's greatness by comparing their performance to his peers.
        For every season in a player's career, it ranks the top 30 performers by Wins Above Replacement (WAR)
        and highlights where that player ranks. Simply put, the more color the greater the player." align="right">
    </a>
  </div>
</div>

<div class="row">
  <div class="col-sm-12">
    <!--   <image style="position:absolute;left:10px;top:10px;"src="images/icons/darkgraybox.png" height="600" >   -->
    <a id="player-rankometer-link" href="" target="_blank">
      <!--   <image style="position:absolute;left:10px;top:10px;"id="player-rankometer" height="600" >  -->
      <image class="img-responsive" id="player-rankometer">
        <!--   <image  class="img-responsive" id="player-rankometer"> -->
        <p class="my-subtext"></p>
    </a>
  </div>
</div>



<script>
  $(function() {
    var updateAnchor = function(playerName) {
      $.uriAnchor.setAnchor({player: playerName});
    };

    $.getJSON('player.json', function(data) {
      var players = data;

      $("#player-names").autocomplete({
        source: players,
        select: function(event, ui) {
          updateAnchor(ui.item.value);
        }
      });

      var onHashChange = function() {
        var anchorMap = $.uriAnchor.makeAnchorMap();
        var playerName = anchorMap['player'];
        var player = players.find(function(player) {
          return player.value == playerName
        });
        if (player) {
          $('#player-names').val(player.value);
          $("#player-rankometer-link").attr("href", "images/rankometer/" + player.icon);
          $("#player-rankometer").attr("src", "images/rankometer/" + player.icon);
        } else {
          var placeHolderPlayer = players[Math.floor(Math.random() * players.length)];
          updateAnchor(placeHolderPlayer.value)
        }
      };

      $(window)
        .bind('hashchange', onHashChange)
        .trigger('hashchange');
    });
  });
</script>
